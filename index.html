<!DOCTYPE html>
<html>
<head>
  <title>Dynamic Span Example</title>
</head>
<body>
  <h1>Dynamic Span Example</h1>
  <input type="text" id="input-box">
  <button onclick="submitValue()">Submit</button>
  <br>
  <span id="output"></span>

  <script>
    // Submit value function
    function submitValue() {
      const value = document.getElementById('input-box').value;
      document.getElementById('input-box').value = '';

      // Append value to span
      const span = document.getElementById('output');
      const textNode = document.createTextNode(value);
      span.appendChild(textNode);
      span.appendChild(document.createElement("br"));

      // Send value to other clients
      const event = new CustomEvent('input', { detail: value });
      document.dispatchEvent(event);
    }

    // Handle input event
    document.addEventListener('input', (event) => {
      const value = event.detail;
      const span = document.getElementById('output');
      const textNode = document.createTextNode(value);
      span.appendChild(textNode);
      span.appendChild(document.createElement("br"));
    });
  </script>
</body>
</html>
